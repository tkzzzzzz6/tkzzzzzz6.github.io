var Paul_Hingle=function(config){var body=document.body,content=ks.select(".post-content:not(.is-special), .page-content:not(.is-special)");if(this.header=function(){var menu=document.getElementsByClassName("head-menu")[0];ks.select(".toggle-btn").onclick=function(){menu.classList.toggle("active")},ks.select(".light-btn").onclick=this.night;var search=document.getElementsByClassName("search-btn")[0],bar=document.getElementsByClassName("head-search")[0];search.addEventListener("click",(function(){bar.classList.toggle("active")}))},this.night=function(){body.classList.contains("dark-theme")?(body.classList.remove("dark-theme"),document.cookie="night=false;path=/;max-age=21600"):(body.classList.add("dark-theme"),document.cookie="night=true;path=/;max-age=21600")},this.tree=function(){const wrap=ks.select(".wrap"),headings=content.querySelectorAll("h1, h2, h3, h4, h5, h6");if(0===headings.length)return;body.classList.add("has-trees");const levelCount={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};headings.forEach((el=>{const tagName=el.tagName.toLowerCase();levelCount[tagName]++}));let firstLevel=1;0===levelCount.h1&&levelCount.h2>0?firstLevel=2:0===levelCount.h1&&0===levelCount.h2&&levelCount.h3>0&&(firstLevel=3);const trees=ks.create("section",{class:"article-list",html:'<h4><span class="title">目录</span></h4>'});ks.each(headings,((t,index)=>{const text=t.innerText;t.id="title-"+index;const className=`item-${Number(t.tagName.substring(1))-firstLevel+1}`;trees.appendChild(ks.create("a",{class:className,text:text,href:`#title-${index}`}))})),wrap.appendChild(trees);const buttons=ks.select("footer .buttons"),btn=ks.create("button",{class:"toggle-list",attr:[{name:"title",value:"切换文章目录"}]});buttons.appendChild(btn),btn.addEventListener("click",(()=>{trees.classList.toggle("active")}))},this.links=function(){var l=content.getElementsByTagName("a");l&&ks.each(l,(function(t){t.target="_blank"}))},this.comment_list=function(){ks(".comment-content [href^='#comment']").each((function(t){var item=ks.select(t.getAttribute("href"));t.onmouseover=function(){item.classList.add("active")},t.onmouseout=function(){item.classList.remove("active")}}))},this.to_top=function(){var btn=document.getElementsByClassName("to-top")[0];(document.documentElement.scrollTop||document.body.scrollTop)>=window.innerHeight/2?btn.classList.add("active"):btn.classList.remove("active")},this.header(),content&&(this.tree(),this.links(),this.comment_list()),window.addEventListener("scroll",this.to_top),config.night){var hour=(new Date).getHours();-1===document.cookie.indexOf("night")&&(hour<=5||hour>=22)&&(document.body.classList.add("dark-theme"),document.cookie="night=true;path=/;max-age=21600")}else-1!==document.cookie.indexOf("night")&&(-1!==document.cookie.indexOf("night=true")?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"));config.copyright&&(document.oncopy=function(){ks.notice("感谢复制,希望内容对你有所帮助！",{color:"yellow",overlay:!0})}),this.hexo_search=function(){var form=ks.select(".head-search"),input=ks.select(".head-search input");form.onsubmit=function(ev){ev.preventDefault(),window.open("https://www.baidu.com/s?wd=site:"+location.host+" "+input.value.trim())}},this.hexo_search()};ks.image(".post-content:not(.is-special) img, .page-content:not(.is-special) img"),window.console&&window.console.log&&console.log("%c Hingle %c https://paugram.com ","color: #fff; margin: 1em 0; padding: 5px 0; background: #6f9fc7;","margin: 1em 0; padding: 5px 0; background: #efefef;");