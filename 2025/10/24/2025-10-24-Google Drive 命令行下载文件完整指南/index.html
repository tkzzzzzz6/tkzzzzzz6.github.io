<!DOCTYPE html>
<html lang="zh">
  <head>
    
    <meta charset="UTF-8">
    <title>2025-10-24-Google Drive 命令行下载文件完整指南 - TK的小站</title>
    <link rel="shortcut icon" href="/static/img/icon.png">
    <link rel="icon" href="/static/img/icon.png" sizes="192x192"/>
    
<link rel="stylesheet" href="/static/kico.css">
<link rel="stylesheet" href="/static/hingle.css">

    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta property="og:site_name" content="TK的小站">
    <meta property="og:title" content="2025-10-24-Google Drive 命令行下载文件完整指南"/>
    
    <style>body:before{ content: ''; background-image: url(https://api.paugram.com/wallpaper?source=gh) }</style>
    
<meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="TK的小站" type="application/atom+xml">
</head>

  <body>
    <header>
    <div class="head-title">
        <h4>TK的小站</h4>
    </div>
    <div class="head-action">
        <div class="toggle-btn"></div>
        <div class="light-btn"></div>
        <div class="search-btn"></div>
    </div>
    <form class="head-search" method="post">
        <input type="text" name="s" placeholder="搜索什么？">
    </form>
    <nav class="head-menu">
        <a href="/">首页</a>
        <div class="has-child">
            <a href>分类</a>
            <div class="sub-menu">
                <a class="category-link" href="/categories/%E8%BF%9B%E5%87%BB%E7%9A%84%E7%A0%81%E5%86%9C/">进击的码农</a>
            </div>
        </div>
        
            <a href="/about">关于我</a>
        
            <a href="/friends">朋友们</a>
        
            <a href="/tools">工具推荐</a>
        
    </nav>
</header>

    <main>
    <div class="wrap min">
        <section class="post-title">
            <h2>2025-10-24-Google Drive 命令行下载文件完整指南</h2>
            <div class="post-meta">
                <time class="date">2025.10.24</time>
            
                <span class="category"><a class="category-link" href="/categories/%E8%BF%9B%E5%87%BB%E7%9A%84%E7%A0%81%E5%86%9C/">进击的码农</a></span>
            
            </div>
        </section>
        <article class="post-content">
        
            <h1 id="Google-Drive-命令行下载文件完整指南"><a href="#Google-Drive-命令行下载文件完整指南" class="headerlink" title="Google Drive 命令行下载文件完整指南"></a>Google Drive 命令行下载文件完整指南</h1><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/lzq6261/article/details/130032780">用命令行下载Google Drive文件的方法 - CSDN</a></li>
<li><a target="_blank" rel="noopener" href="https://lccurious.github.io/2021/05/15/Download-from-Google-Drive/">Download from Google Drive - lccurious</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/wkentaro/gdown">gdown - GitHub Repository</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/668161595">Google Drive命令行下载文件 - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.google.com/drive/api/v3/about-sdk">Google Drive API Documentation</a></li>
</ul>
</blockquote>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在进行深度学习或数据分析时，我们经常需要从 Google Drive 下载大型数据集和预训练模型。然而，直接通过浏览器下载存在以下问题：</p>
<ul>
<li>下载速度慢，容易中断</li>
<li>大文件下载不稳定</li>
<li>无法在服务器端直接下载</li>
<li>断点续传支持差</li>
</ul>
<p>本文介绍两种在 Linux 命令行环境下高效下载 Google Drive 文件的方法，经过实践验证，均可稳定使用。</p>
<h2 id="前置要求"><a href="#前置要求" class="headerlink" title="前置要求"></a>前置要求</h2><p>⚠️ <strong>重要提示</strong>：由于网络限制，访问 Google Drive 需要科学上网工具。确保你的服务器或本地环境已配置好代理。</p>
<h3 id="配置代理（如果需要）"><a href="#配置代理（如果需要）" class="headerlink" title="配置代理（如果需要）"></a>配置代理（如果需要）</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 设置代理环境变量</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">http_proxy</span><span class="token operator">=</span>http://127.0.0.1:20171
<span class="token builtin class-name">export</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span>http://127.0.0.1:20171
<span class="token builtin class-name">export</span> <span class="token assign-left variable">all_proxy</span><span class="token operator">=</span>socks5://127.0.0.1:20170<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="方法一：使用-wget-下载文件"><a href="#方法一：使用-wget-下载文件" class="headerlink" title="方法一：使用 wget 下载文件"></a>方法一：使用 wget 下载文件</h2><h3 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h3><ul>
<li>✅ 下载单个文件</li>
<li>❌ 不支持下载文件夹</li>
<li>✅ 适合脚本自动化</li>
</ul>
<h3 id="获取文件-ID"><a href="#获取文件-ID" class="headerlink" title="获取文件 ID"></a>获取文件 ID</h3><p>首先需要从 Google Drive 分享链接中获取 <code>fileid</code>。</p>
<p>分享链接格式：</p>
<pre class="line-numbers language-none"><code class="language-none">https://drive.google.com/file/d/FILE_ID/view?usp=sharing<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>其中 <code>FILE_ID</code> 就是我们需要的 <code>fileid</code>。</p>
<h3 id="下载脚本"><a href="#下载脚本" class="headerlink" title="下载脚本"></a>下载脚本</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 切换到目标目录</span>
<span class="token builtin class-name">cd</span> data/

<span class="token comment"># 设置文件信息</span>
<span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token string">'OfficeHomeDataset_10072016.zip'</span>
<span class="token assign-left variable">fileid</span><span class="token operator">=</span><span class="token string">'0B81rNlvomiwed0V1YUxQdC1uOTg'</span>

<span class="token comment"># 下载文件</span>
<span class="token function">wget</span> --load-cookies /tmp/cookies.txt <span class="token punctuation">\</span>
  <span class="token string">"https://drive.google.com/uc?export=download&amp;confirm=<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> <span class="token parameter variable">--quiet</span> --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate <span class="token string">'https://drive.google.com/uc?export=download&amp;id=${fileid}'</span> -O- <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-rn</span> <span class="token string">'s/.*confirm=([0-9A-Za-z_]+).*/\1\n/p'</span><span class="token variable">)</span></span>&amp;id=<span class="token variable">${fileid}</span>"</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-O</span> <span class="token variable">${filename}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /tmp/cookies.txt

<span class="token comment"># 解压文件</span>
<span class="token function">unzip</span> <span class="token parameter variable">-q</span> <span class="token variable">${filename}</span>

<span class="token comment"># 删除压缩包</span>
<span class="token function">rm</span> <span class="token variable">${filename}</span>

<span class="token builtin class-name">echo</span> <span class="token string">"下载完成！"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="命令解析"><a href="#命令解析" class="headerlink" title="命令解析"></a>命令解析</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 1. 保存 cookies 到临时文件</span>
--save-cookies /tmp/cookies.txt

<span class="token comment"># 2. 保持 session cookies</span>
--keep-session-cookies

<span class="token comment"># 3. 不检查证书（避免 SSL 错误）</span>
--no-check-certificate

<span class="token comment"># 4. 提取确认码</span>
<span class="token function">sed</span> <span class="token parameter variable">-rn</span> <span class="token string">'s/.*confirm=([0-9A-Za-z_]+).*/\1\n/p'</span>

<span class="token comment"># 5. 输出到指定文件</span>
<span class="token parameter variable">-O</span> <span class="token variable">${filename}</span>

<span class="token comment"># 6. 清理临时 cookies</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /tmp/cookies.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="示例：下载单个文件"><a href="#示例：下载单个文件" class="headerlink" title="示例：下载单个文件"></a>示例：下载单个文件</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 替换为你的文件信息</span>
<span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token string">'my_dataset.zip'</span>
<span class="token assign-left variable">fileid</span><span class="token operator">=</span><span class="token string">'YOUR_FILE_ID_HERE'</span>

<span class="token function">wget</span> --load-cookies /tmp/cookies.txt <span class="token punctuation">\</span>
  <span class="token string">"https://drive.google.com/uc?export=download&amp;confirm=<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> <span class="token parameter variable">--quiet</span> --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate <span class="token string">'https://drive.google.com/uc?export=download&amp;id=${fileid}'</span> -O- <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-rn</span> <span class="token string">'s/.*confirm=([0-9A-Za-z_]+).*/\1\n/p'</span><span class="token variable">)</span></span>&amp;id=<span class="token variable">${fileid}</span>"</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-O</span> <span class="token variable">${filename}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /tmp/cookies.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="方法二：使用-gdown-下载（推荐）"><a href="#方法二：使用-gdown-下载（推荐）" class="headerlink" title="方法二：使用 gdown 下载（推荐）"></a>方法二：使用 gdown 下载（推荐）</h2><h3 id="适用场景-1"><a href="#适用场景-1" class="headerlink" title="适用场景"></a>适用场景</h3><ul>
<li>✅ 下载单个文件</li>
<li>✅ 下载整个文件夹</li>
<li>✅ 使用简单，命令清晰</li>
<li>✅ 支持断点续传</li>
</ul>
<h3 id="安装-gdown"><a href="#安装-gdown" class="headerlink" title="安装 gdown"></a>安装 gdown</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 使用 pip 安装</span>
pip <span class="token function">install</span> gdown

<span class="token comment"># 或指定版本</span>
pip <span class="token function">install</span> <span class="token assign-left variable">gdown</span><span class="token operator">==</span><span class="token number">4.7</span>.1

<span class="token comment"># 升级到最新版本</span>
pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> gdown<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h3><p><strong>重要</strong>：不同版本的 gdown 使用方式略有不同。</p>
<h4 id="gdown-4-3-1-之前的版本"><a href="#gdown-4-3-1-之前的版本" class="headerlink" title="gdown 4.3.1 之前的版本"></a>gdown 4.3.1 之前的版本</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 下载文件（使用 --id 参数）</span>
gdown --no-check-certificate <span class="token parameter variable">--id</span> FILE_ID

<span class="token comment"># 下载文件夹</span>
gdown --no-check-certificate <span class="token parameter variable">--folder</span> https://drive.google.com/drive/folders/FOLDER_ID<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="gdown-4-3-1-及之后的版本"><a href="#gdown-4-3-1-及之后的版本" class="headerlink" title="gdown 4.3.1 及之后的版本"></a>gdown 4.3.1 及之后的版本</h4><p>从 4.3.1 版本开始，<code>--id</code> 参数被废弃，改用直接链接方式。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 下载文件（推荐方式）</span>
gdown <span class="token string">'https://drive.google.com/uc?id=FILE_ID'</span>

<span class="token comment"># 或者使用完整链接</span>
gdown <span class="token string">'https://drive.google.com/file/d/FILE_ID/view?usp=sharing'</span>

<span class="token comment"># 下载文件夹</span>
gdown <span class="token parameter variable">--folder</span> <span class="token string">'https://drive.google.com/drive/folders/FOLDER_ID'</span>

<span class="token comment"># 下载文件夹（不检查证书）</span>
gdown <span class="token parameter variable">--folder</span> --no-check-certificate <span class="token string">'https://drive.google.com/drive/folders/FOLDER_ID'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实际使用示例"><a href="#实际使用示例" class="headerlink" title="实际使用示例"></a>实际使用示例</h3><h4 id="示例-1：下载单个文件"><a href="#示例-1：下载单个文件" class="headerlink" title="示例 1：下载单个文件"></a>示例 1：下载单个文件</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 方式 1：使用 uc 链接</span>
gdown <span class="token string">'https://drive.google.com/uc?id=1A2B3C4D5E6F7G8H9I0J'</span>

<span class="token comment"># 方式 2：使用分享链接（自动转换）</span>
gdown <span class="token string">'https://drive.google.com/file/d/1A2B3C4D5E6F7G8H9I0J/view?usp=sharing'</span>

<span class="token comment"># 指定输出文件名</span>
gdown <span class="token string">'https://drive.google.com/uc?id=1A2B3C4D5E6F7G8H9I0J'</span> <span class="token parameter variable">-O</span> my_model.pth<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="示例-2：下载整个文件夹"><a href="#示例-2：下载整个文件夹" class="headerlink" title="示例 2：下载整个文件夹"></a>示例 2：下载整个文件夹</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 下载文件夹（保持目录结构）</span>
gdown <span class="token parameter variable">--folder</span> <span class="token string">'https://drive.google.com/drive/folders/1A2B3C4D5E6F7G8H9I0J'</span>

<span class="token comment"># 安静模式（不显示进度条）</span>
gdown <span class="token parameter variable">--folder</span> <span class="token parameter variable">--quiet</span> <span class="token string">'https://drive.google.com/drive/folders/1A2B3C4D5E6F7G8H9I0J'</span>

<span class="token comment"># 指定输出目录</span>
gdown <span class="token parameter variable">--folder</span> <span class="token string">'https://drive.google.com/drive/folders/1A2B3C4D5E6F7G8H9I0J'</span> <span class="token parameter variable">-O</span> ./datasets/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="示例-3：下载大文件（处理病毒扫描警告）"><a href="#示例-3：下载大文件（处理病毒扫描警告）" class="headerlink" title="示例 3：下载大文件（处理病毒扫描警告）"></a>示例 3：下载大文件（处理病毒扫描警告）</h4><p>对于大文件（&gt;25MB），Google Drive 会提示病毒扫描警告，gdown 会自动处理：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># gdown 会自动绕过病毒扫描警告</span>
gdown <span class="token parameter variable">--fuzzy</span> <span class="token string">'https://drive.google.com/file/d/LARGE_FILE_ID/view?usp=sharing'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="常用参数说明"><a href="#常用参数说明" class="headerlink" title="常用参数说明"></a>常用参数说明</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 基本下载</span>
gdown URL

<span class="token comment"># 常用参数</span>
--no-check-certificate    <span class="token comment"># 不检查 SSL 证书</span>
<span class="token parameter variable">--folder</span>                  <span class="token comment"># 下载文件夹</span>
-O, <span class="token parameter variable">--output</span> FILE        <span class="token comment"># 指定输出文件名</span>
<span class="token parameter variable">--quiet</span>                  <span class="token comment"># 安静模式，不显示进度</span>
<span class="token parameter variable">--fuzzy</span>                  <span class="token comment"># 模糊匹配（处理大文件扫描警告）</span>
--remaining-ok           <span class="token comment"># 允许部分下载失败</span>
<span class="token parameter variable">--proxy</span> PROXY            <span class="token comment"># 指定代理服务器</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="实用脚本"><a href="#实用脚本" class="headerlink" title="实用脚本"></a>实用脚本</h2><h3 id="批量下载脚本"><a href="#批量下载脚本" class="headerlink" title="批量下载脚本"></a>批量下载脚本</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 批量下载 Google Drive 文件</span>

<span class="token comment"># 文件列表（格式：FILE_ID|文件名）</span>
<span class="token assign-left variable">files</span><span class="token operator">=</span><span class="token punctuation">(</span>
    <span class="token string">"1A2B3C4D5E6F7G8H9I0J|dataset_part1.zip"</span>
    <span class="token string">"2B3C4D5E6F7G8H9I0J1K|dataset_part2.zip"</span>
    <span class="token string">"3C4D5E6F7G8H9I0J1K2L|pretrained_model.pth"</span>
<span class="token punctuation">)</span>

<span class="token comment"># 创建下载目录</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> downloads
<span class="token builtin class-name">cd</span> downloads

<span class="token comment"># 遍历下载</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">${files<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">'|'</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-r</span> file_id filename <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">"<span class="token variable">$file</span>"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"正在下载: <span class="token variable">$filename</span>"</span>
    gdown <span class="token string">"https://drive.google.com/uc?id=<span class="token variable">$file_id</span>"</span> <span class="token parameter variable">-O</span> <span class="token string">"<span class="token variable">$filename</span>"</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"✓ <span class="token variable">$filename</span> 下载成功"</span>
    <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"✗ <span class="token variable">$filename</span> 下载失败"</span>
    <span class="token keyword">fi</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"---"</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">"所有文件下载完成！"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="带进度显示的下载脚本"><a href="#带进度显示的下载脚本" class="headerlink" title="带进度显示的下载脚本"></a>带进度显示的下载脚本</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">download_from_gdrive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">local</span> <span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token variable">$1</span>
    <span class="token builtin class-name">local</span> <span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token variable">$2</span>
    
    <span class="token builtin class-name">echo</span> <span class="token string">"=========================================="</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"开始下载: <span class="token variable">$output</span>"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"=========================================="</span>
    
    gdown <span class="token string">"<span class="token variable">$url</span>"</span> <span class="token parameter variable">-O</span> <span class="token string">"<span class="token variable">$output</span>"</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"✓ 下载成功: <span class="token variable">$output</span>"</span>
        <span class="token function">ls</span> <span class="token parameter variable">-lh</span> <span class="token string">"<span class="token variable">$output</span>"</span>
    <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"✗ 下载失败: <span class="token variable">$output</span>"</span>
        <span class="token builtin class-name">return</span> <span class="token number">1</span>
    <span class="token keyword">fi</span>
<span class="token punctuation">}</span>

<span class="token comment"># 使用示例</span>
download_from_gdrive <span class="token punctuation">\</span>
    <span class="token string">'https://drive.google.com/uc?id=YOUR_FILE_ID'</span> <span class="token punctuation">\</span>
    <span class="token string">'output_filename.zip'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="常见问题及解决方案"><a href="#常见问题及解决方案" class="headerlink" title="常见问题及解决方案"></a>常见问题及解决方案</h2><h3 id="问题-1：SSL-证书验证失败"><a href="#问题-1：SSL-证书验证失败" class="headerlink" title="问题 1：SSL 证书验证失败"></a>问题 1：SSL 证书验证失败</h3><p><strong>错误信息</strong>：</p>
<pre class="line-numbers language-none"><code class="language-none">SSL certificate problem: unable to get local issuer certificate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>解决方案</strong>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># wget 方式</span>
<span class="token function">wget</span> --no-check-certificate URL

<span class="token comment"># gdown 方式</span>
gdown --no-check-certificate URL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="问题-2：文件过大，提示病毒扫描"><a href="#问题-2：文件过大，提示病毒扫描" class="headerlink" title="问题 2：文件过大，提示病毒扫描"></a>问题 2：文件过大，提示病毒扫描</h3><p><strong>错误信息</strong>：</p>
<pre class="line-numbers language-none"><code class="language-none">Cannot retrieve the public link of the file. You may need to change the permission to 'Anyone with the link'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>解决方案</strong>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 使用 --fuzzy 参数</span>
gdown <span class="token parameter variable">--fuzzy</span> <span class="token string">'https://drive.google.com/file/d/FILE_ID/view'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="问题-3：下载文件夹时权限不足"><a href="#问题-3：下载文件夹时权限不足" class="headerlink" title="问题 3：下载文件夹时权限不足"></a>问题 3：下载文件夹时权限不足</h3><p><strong>错误信息</strong>：</p>
<pre class="line-numbers language-none"><code class="language-none">Permission denied<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>解决方案</strong>：</p>
<ol>
<li>确保 Google Drive 分享设置为”任何拥有链接的人都可以查看”</li>
<li>使用 <code>--no-check-certificate</code> 参数<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gdown <span class="token parameter variable">--folder</span> --no-check-certificate <span class="token string">'FOLDER_URL'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
</ol>
<h3 id="问题-4：网络连接超时"><a href="#问题-4：网络连接超时" class="headerlink" title="问题 4：网络连接超时"></a>问题 4：网络连接超时</h3><p><strong>解决方案</strong>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 使用代理</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">http_proxy</span><span class="token operator">=</span>http://proxy_server:port
<span class="token builtin class-name">export</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span>http://proxy_server:port

<span class="token comment"># 或在命令中指定</span>
gdown <span class="token parameter variable">--proxy</span> http://proxy_server:port URL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="问题-5：gdown-版本不兼容"><a href="#问题-5：gdown-版本不兼容" class="headerlink" title="问题 5：gdown 版本不兼容"></a>问题 5：gdown 版本不兼容</h3><p><strong>解决方案</strong>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 卸载当前版本</span>
pip uninstall gdown

<span class="token comment"># 安装指定版本</span>
pip <span class="token function">install</span> <span class="token assign-left variable">gdown</span><span class="token operator">==</span><span class="token number">4.7</span>.1

<span class="token comment"># 查看版本</span>
gdown <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="方法对比"><a href="#方法对比" class="headerlink" title="方法对比"></a>方法对比</h2><table>
<thead>
<tr>
<th>特性</th>
<th>wget 方式</th>
<th>gdown 方式</th>
</tr>
</thead>
<tbody><tr>
<td>下载文件</td>
<td>✅ 支持</td>
<td>✅ 支持</td>
</tr>
<tr>
<td>下载文件夹</td>
<td>❌ 不支持</td>
<td>✅ 支持</td>
</tr>
<tr>
<td>命令复杂度</td>
<td>复杂</td>
<td>简单</td>
</tr>
<tr>
<td>断点续传</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>大文件处理</td>
<td>一般</td>
<td>优秀</td>
</tr>
<tr>
<td>安装要求</td>
<td>系统自带</td>
<td>需要 pip</td>
</tr>
<tr>
<td>推荐指数</td>
<td>⭐⭐⭐</td>
<td>⭐⭐⭐⭐⭐</td>
</tr>
</tbody></table>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文介绍了两种从 Google Drive 命令行下载文件的方法：</p>
<ol>
<li><strong>wget 方式</strong>：适合下载单个文件，命令较复杂，但无需额外安装</li>
<li><strong>gdown 方式</strong>：功能更强大，支持文件和文件夹下载，使用简单，强烈推荐</li>
</ol>
<h3 id="推荐使用场景"><a href="#推荐使用场景" class="headerlink" title="推荐使用场景"></a>推荐使用场景</h3><ul>
<li><strong>简单下载</strong>：使用 gdown 的最新版本</li>
<li><strong>批量下载</strong>：编写脚本使用 gdown</li>
<li><strong>无法安装 pip</strong>：使用 wget 方式</li>
</ul>
<h3 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 1. 安装最新版 gdown</span>
pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> gdown

<span class="token comment"># 2. 配置代理（如需要）</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span>http://127.0.0.1:20171

<span class="token comment"># 3. 下载文件</span>
gdown <span class="token string">'https://drive.google.com/uc?id=FILE_ID'</span> <span class="token parameter variable">-O</span> output.zip

<span class="token comment"># 4. 下载文件夹</span>
gdown <span class="token parameter variable">--folder</span> <span class="token string">'https://drive.google.com/drive/folders/FOLDER_ID'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>希望本文能帮助你高效地从 Google Drive 下载所需资源！</p>

        </article>
        <section class="post-near">
            <ul>
                
                    <li>上一篇: 看完啦 (つд⊂)</li>
                
                
                    <li>下一篇: <a href="/2025/10/23/2025-10-23-C++%E6%B1%82%E9%98%B6%E4%B9%98%E6%9C%AB%E5%B0%BE%E9%9D%9E%E9%9B%B6%E6%95%B0%E5%AD%97/">2025-10-23-C++求阶乘末尾非零数字</a></li>
                
            </ul>
        </section>
        
            <section class="post-tags">
            <a class="-none-link" href="/tags/troubleshooting/" rel="tag">问题解决</a>
            </section>
        
    
        <section class="post-author">
        
            <figure class="author-avatar">
                <img src="https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/20250927100251272.jpg?imageSlim" alt="ttkqwe" />
            </figure>
        
            <div class="author-info">
                <h4>ttkqwe</h4>
                <p>计算机大三学生，喜欢研究一些乱七八糟的东西，目前研究方向是深度学习。本站未注明转载的文章均为原创，并采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow">CC BY-NC-SA 4.0</a> 授权协议，<span style="color: #E91E63">转载请注明来源</span>，谢谢！</p>
            </div>
        </section>
    
    </div>
</main>

    <footer>
    <div class="buttons">
        <button class="to-top" href="#"></button>
    </div>
    <div class="wrap min">
        <section class="widget">
            <div class="row">
                <div class="col-m-4">
                    <h3 class="title-recent">最新文章：</h3>
                    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/10/24/2025-10-24-Google%20Drive%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/">2025-10-24-Google Drive 命令行下载文件完整指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/10/23/2025-10-23-C++%E6%B1%82%E9%98%B6%E4%B9%98%E6%9C%AB%E5%B0%BE%E9%9D%9E%E9%9B%B6%E6%95%B0%E5%AD%97/">2025-10-23-C++求阶乘末尾非零数字</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/10/19/2025-10-19-C++%E7%BB%9D%E5%AF%B9%E5%80%BC%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/">2025-10-19-C++绝对值函数详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/10/17/2025-10-17-C++%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%8A%A0%E9%80%9F%E8%AF%A6%E8%A7%A3/">2025-10-17-C++输入输出加速详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/10/15/2025-10-15-python%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F%E4%B8%8Emap%E5%87%BD%E6%95%B0/">2025-10-15-浏览器批量下载文件的方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/10/15/2025-10-15-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95/">2025-10-15-python列表推导式与map函数</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-date">时光机：</h3>
                    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">十月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">七月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">五月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">四月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">三月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">二月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1970/01/">一月 1970</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-tags">标签云：</h3>
                    <a href="/tags/mathematical-modeling/" style="font-size: 10px;">数学建模</a> <a href="/tags/deep-learning/" style="font-size: 14.29px;">深度学习</a> <a href="/tags/development/" style="font-size: 17.14px;">程序开发</a> <a href="/tags/algorithm/" style="font-size: 12.86px;">算法学习</a> <a href="/tags/algorithm-practice/" style="font-size: 15.71px;">算法练习</a> <a href="/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/" style="font-size: 11.43px;">论文阅读</a> <a href="/tags/course/" style="font-size: 20px;">课程学习</a> <a href="/tags/troubleshooting/" style="font-size: 18.57px;">问题解决</a>
                </div>
            </div>
        </section>
        <section class="sub-footer">
            <p>
                © 2025 <a href="/">TK的小站</a>. All Rights Reserved. Theme By <a href="https://github.com/Dreamer-Paul/Hingle" target="_blank" rel="nofollow">Hingle</a>.
                
                    &nbsp;|&nbsp;
                    <a href="https://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
                        蜀ICP备2025165253号
                    </a>
                
                
            </p>
        </section>
    </div>
</footer>


<script src="/static/kico.js"></script>
<script src="/static/hingle.js"></script>


<script>var hingle = new Paul_Hingle({"copyright":true,"night":true});</script>

<style>
.police-beian{display:inline-flex;align-items:center;gap:4px}
.police-icon{display:inline-block;width:16px;height:16px;background:#e91e63;border-radius:2px;opacity:.85}
/* 说明：如需官方警徽图标，可将 .police-icon 的 background 设置为图片：
   background:url('https://www.beian.gov.cn/img/ghs.png') no-repeat center/contain; */
</style>

  </body>
</html>
