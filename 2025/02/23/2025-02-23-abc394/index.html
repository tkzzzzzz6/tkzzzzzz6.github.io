<!DOCTYPE html>
<html lang="zh">
  <head>
    
    <meta charset="UTF-8">
    <title>2025-02-23-Atcoder abc394 - TK的小站</title>
    <link rel="shortcut icon" href="/static/img/icon.png">
    <link rel="icon" href="/static/img/icon.png" sizes="192x192"/>
    
<link rel="stylesheet" href="/static/kico.css">
<link rel="stylesheet" href="/static/hingle.css">

    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta property="og:site_name" content="TK的小站">
    <meta property="og:title" content="2025-02-23-Atcoder abc394"/>
    
    <style>body:before{ content: ''; background-image: url(https://api.paugram.com/wallpaper?source=gh) }</style>
    
<meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="TK的小站" type="application/atom+xml">
</head>

  <body>
    <header>
    <div class="head-title">
        <h4>TK的小站</h4>
    </div>
    <div class="head-action">
        <div class="toggle-btn"></div>
        <div class="light-btn"></div>
        <div class="search-btn"></div>
    </div>
    <form class="head-search" method="post">
        <input type="text" name="s" placeholder="搜索什么？">
    </form>
    <nav class="head-menu">
        <a href="/">首页</a>
        <div class="has-child">
            <a href>分类</a>
            <div class="sub-menu">
                
            </div>
        </div>
        
            <a href="/about">关于我</a>
        
            <a href="/friends">朋友们</a>
        
            <a href="/tools">工具推荐</a>
        
    </nav>
</header>

    <main>
    <div class="wrap min">
        <section class="post-title">
            <h2>2025-02-23-Atcoder abc394</h2>
            <div class="post-meta">
                <time class="date">2025.02.23</time>
            
            </div>
        </section>
        <article class="post-content">
        
            <blockquote>这篇文章上次修改于 221 天前，可能其部分内容已经发生变化，如有疑问可询问作者。</blockquote>
        
            <h1 id="Atcoder-abc394"><a href="#Atcoder-abc394" class="headerlink" title="Atcoder abc394"></a>Atcoder abc394</h1><h1 id="A"><a href="#A" class="headerlink" title="A"></a>A</h1><blockquote>
<h2 id="22222"><a href="#22222" class="headerlink" title="22222"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc394/tasks/abc394a">22222</a></h2></blockquote>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{<br>    string s;<br>    cin &gt;&gt; s;<br>    <span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++){<br>        <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">'2'</span>){<br>            cout &lt;&lt; <span class="hljs-number">2</span> ;<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br></code></pre></td></tr></table></figure>

<h1 id="B"><a href="#B" class="headerlink" title="B"></a>B</h1><blockquote>
<h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc394/tasks/abc394b">cat</a></h2></blockquote>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 包含C++标准库的头文件</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-comment">// 使用标准命名空间</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{<br>    <span class="hljs-comment">// 声明变量n用于存储输入的字符串个数</span><br>    <span class="hljs-type">int</span> n;<br>    cin &gt;&gt; n;<br>    <span class="hljs-comment">// 创建一个大小为n的字符串向量s用于存储输入的字符串</span><br>    <span class="hljs-function">vector&lt;string&gt; <span class="hljs-title">s</span><span class="hljs-params">(n)</span></span>;<br>    <span class="hljs-comment">// 循环读入n个字符串</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++){<br>        cin &gt;&gt; s[i];<br>    }<br>    <span class="hljs-comment">// 创建一个pair向量a,用于存储字符串及其长度</span><br>    vector&lt;pair&lt;string,<span class="hljs-type">int</span>&gt;&gt; a;<br>    <span class="hljs-comment">// 遍历字符串向量s,将每个字符串及其长度作为pair存入向量a</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++){<br>        a.<span class="hljs-built_in">pushback</span>(<span class="hljs-built_in">makepair</span>(s[i],s[i].<span class="hljs-built_in">size</span>()));<br>    }<br>    <span class="hljs-comment">// 使用lambda表达式对向量a按照字符串长度进行升序排序</span><br>    <span class="hljs-comment">// sort(a.begin(), a.end(), [](const pair&lt;string,int&gt;&amp; x, const pair&lt;string,int&gt;&amp; y){</span><br>    <span class="hljs-comment">//     return x.second &lt; y.second;</span><br>    <span class="hljs-comment">// });</span><br>    <span class="hljs-comment">// const 和 &amp; 是为了提高效率，可以暂时不用太关注</span><br>    <span class="hljs-built_in">sort</span>(a.<span class="hljs-built_in">begin</span>(), a.<span class="hljs-built_in">end</span>(), [](pair&lt;string, <span class="hljs-type">int</span>&gt; x, pair&lt;string, <span class="hljs-type">int</span>&gt; y)<br>         { <span class="hljs-keyword">return</span> x.**second** &lt; y.**second**; });<br>    <span class="hljs-comment">// 按顺序输出排序后的字符串</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++){<br>        cout &lt;&lt; a[i].**first**;<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br></code></pre></td></tr></table></figure>

<h1 id="C"><a href="#C" class="headerlink" title="C"></a>C</h1><blockquote>
<h2 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a><u>Debug</u></h2></blockquote>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>{<br>    string s;<br>    cin &gt;&gt; s;<br><br>    <span class="hljs-function">vector&lt;<span class="hljs-type">char</span>&gt; <span class="hljs-title">chars</span><span class="hljs-params">(s.begin(), s.end())</span></span>;<br>    <span class="hljs-type">bool</span> changed = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">while</span> (changed)<br>    {<br>        changed = <span class="hljs-literal">false</span>;<br>        vector&lt;<span class="hljs-type">char</span>&gt; next = chars;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; chars.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i++)<br>        {<br>            <span class="hljs-keyword">if</span> (next[i] == <span class="hljs-string">'W'</span> &amp;&amp; next[i + <span class="hljs-number">1</span>] == <span class="hljs-string">'A'</span>)<br>            {<br>                next[i] = <span class="hljs-string">'A'</span>;<br>                next[i + <span class="hljs-number">1</span>] = <span class="hljs-string">'C'</span>;<br>                changed = <span class="hljs-literal">true</span>;<br>                i++; <span class="hljs-comment">// 跳过下一个字符，因为已经处理过了</span><br>            }<br>        }<br>        chars = next;<br>    }<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : chars)<br>    {<br>        cout &lt;&lt; c;<br>    }<br>    cout &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br></code></pre></td></tr></table></figure>

<h1 id="D"><a href="#D" class="headerlink" title="D"></a>D</h1><blockquote>
<h2 id="Colorful-Bracket-Sequence"><a href="#Colorful-Bracket-Sequence" class="headerlink" title="Colorful Bracket Sequence"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc394/tasks/abc394d">Colorful Bracket Sequence</a></h2></blockquote>
<h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// 将函数定义移到 main 函数外部</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">bracketmatch</span><span class="hljs-params">(string &amp;s1, string &amp;s2)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-keyword">if</span> (s1 == <span class="hljs-string">"("</span> &amp;&amp; s2 == <span class="hljs-string">")"</span>)<br>    {<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    }<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s1 == <span class="hljs-string">"["</span> &amp;&amp; s2 == <span class="hljs-string">"]"</span>)<br>    {<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    }<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s1 == <span class="hljs-string">"{"</span> &amp;&amp; s2 == <span class="hljs-string">"}"</span>)<br>    {<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>{<br>    string bracket;<br>    cin &gt;&gt; bracket;<br><br>    stack&lt;string&gt; bracketstack;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; bracket.<span class="hljs-built_in">size</span>(); i++)<br>    {<br>        <span class="hljs-function">string <span class="hljs-title">current</span><span class="hljs-params">(<span class="hljs-number">1</span>, bracket[i])</span></span>; <span class="hljs-comment">// 将 char 转换为 string</span><br><br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-string">"("</span> || current == <span class="hljs-string">"["</span> || current == <span class="hljs-string">"{"</span>)<br>        {<br>            bracketstack.<span class="hljs-built_in">push</span>(current);<br>        }<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (current == <span class="hljs-string">")"</span> || current == <span class="hljs-string">"]"</span> || current == <span class="hljs-string">"}"</span>)<br>        {<br>            <span class="hljs-keyword">if</span> (bracketstack.<span class="hljs-built_in">empty</span>())<br>            {<br>                cout &lt;&lt; <span class="hljs-string">"No"</span> &lt;&lt; endl;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            }<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">bracketmatch</span>(bracketstack.<span class="hljs-built_in">top</span>(), current))<br>            {<br>                bracketstack.<span class="hljs-built_in">pop</span>();<br>            }<br>            <span class="hljs-keyword">else</span><br>            {<br>                cout &lt;&lt; <span class="hljs-string">"No"</span> &lt;&lt; endl;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            }<br>        }<br>    }<br><br>    <span class="hljs-comment">// 最后检查栈是否为空</span><br>    <span class="hljs-keyword">if</span> (!bracketstack.<span class="hljs-built_in">empty</span>())<br>    {<br>        cout &lt;&lt; <span class="hljs-string">"No"</span> &lt;&lt; endl;<br>    }<br>    <span class="hljs-keyword">else</span><br>    {<br>        cout &lt;&lt; <span class="hljs-string">"Yes"</span> &lt;&lt; endl;<br>    }<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br></code></pre></td></tr></table></figure>

<h1 id="E"><a href="#E" class="headerlink" title="E"></a>E</h1><blockquote>
<h2 id="Palindromic-Shortest-Path"><a href="#Palindromic-Shortest-Path" class="headerlink" title="Palindromic Shortest Path"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc394/tasks/abc394e">Palindromic Shortest Path</a></h2></blockquote>
<h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// 定义一个简化的循环宏</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> rep(i, n) for (int i = 0; i &lt; (n); i++)</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// 定义一个表示无穷大的常量</span><br><span class="hljs-type">int</span> inf = <span class="hljs-number">1000000010</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-comment">// 读入矩阵大小n</span><br>    <span class="hljs-type">int</span> n;<br>    cin &gt;&gt; n;<br>    <span class="hljs-comment">// 创建n*n的字符矩阵c用于存储输入</span><br>    vector&lt;vector&lt;<span class="hljs-type">char</span>&gt;&gt; <span class="hljs-built_in">c</span>(n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">char</span>&gt;(n));<br>    <span class="hljs-built_in">rep</span>(i, n) <span class="hljs-built_in">rep</span>(j, n) cin &gt;&gt; c[i][j];<br>    <br>    <span class="hljs-comment">// 创建n*n的距离矩阵a，初始化为无穷大</span><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">a</span>(n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n, inf));<br>    <span class="hljs-comment">// 创建队列用于BFS搜索</span><br>    queue&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt; que;<br>    <br>    <span class="hljs-comment">// 对角线元素距离初始化为0</span><br>    <span class="hljs-built_in">rep</span>(i, n)<br>    {<br>        que.<span class="hljs-built_in">push</span>({i, i});<br>        a[i][i] = <span class="hljs-number">0</span>;<br>    }<br>    <br>    <span class="hljs-comment">// 直接相连的元素距离初始化为1</span><br>    <span class="hljs-built_in">rep</span>(i, n) <span class="hljs-built_in">rep</span>(j, n)<br>    {<br>        <span class="hljs-keyword">if</span> (i == j <span class="hljs-keyword">or</span> c[i][j] == <span class="hljs-string">'-'</span>)<br>            <span class="hljs-keyword">continue</span>;<br>        que.<span class="hljs-built_in">push</span>({i, j});<br>        a[i][j] = <span class="hljs-number">1</span>;<br>    }<br>    <br>    <span class="hljs-comment">// BFS搜索计算所有点对之间的最短距离</span><br>    <span class="hljs-keyword">while</span> (!que.<span class="hljs-built_in">empty</span>()) <span class="hljs-comment">// 当队列不为空时继续搜索</span><br>    {<br>        <span class="hljs-keyword">auto</span> q = que.<span class="hljs-built_in">front</span>(); <span class="hljs-comment">// 获取队首元素</span><br>        que.<span class="hljs-built_in">pop</span>(); <span class="hljs-comment">// 弹出队首元素</span><br>        <span class="hljs-type">int</span> i = q.**first**, j = q.**second**; <span class="hljs-comment">// 获取当前处理的点对(i,j)的坐标</span><br>        <br>        <span class="hljs-comment">// 遍历所有可能的新点对(k,l)</span><br>        <span class="hljs-built_in">rep</span>(k, n) <span class="hljs-built_in">rep</span>(l, n) <br>        {<br>            <span class="hljs-comment">// 判断是否可以通过当前点对(i,j)构建到新点对(k,l)的路径:</span><br>            <span class="hljs-comment">// 1. c[k][i]不是'-' - 表示k到i有边</span><br>            <span class="hljs-comment">// 2. c[j][l]不是'-' - 表示j到l有边</span><br>            <span class="hljs-comment">// 3. c[k][i] == c[j][l] - 两条边的字符相同</span><br>            <span class="hljs-comment">// 4. a[k][l] == inf - 点对(k,l)还未被访问过</span><br>            <span class="hljs-keyword">if</span> (c[k][i] != <span class="hljs-string">'-'</span> &amp;&amp; c[j][l] != <span class="hljs-string">'-'</span> &amp;&amp; c[k][i] == c[j][l] &amp;&amp; a[k][l] == inf)<br>            {<br>                <span class="hljs-comment">// 新路径的距离 = 当前点对的距离 + 2</span><br>                <span class="hljs-comment">// +2是因为需要经过两条新的边(k-&gt;i和j-&gt;l)</span><br>                a[k][l] = a[i][j] + <span class="hljs-number">2</span>;<br>                que.<span class="hljs-built_in">push</span>({k, l}); <span class="hljs-comment">// 将新的点对加入队列以继续搜索</span><br>            }<br>        }<br>    }<br>    <br>    <span class="hljs-comment">// 输出结果矩阵</span><br>    <span class="hljs-built_in">rep</span>(i, n)<br>    {<br>        <span class="hljs-built_in">rep</span>(j, n)<br>        {<br>            <span class="hljs-comment">// 如果距离仍为无穷大，输出-1，否则输出实际距离</span><br>            cout &lt;&lt; (a[i][j] == inf ? <span class="hljs-number">-1</span> : a[i][j]) &lt;&lt; <span class="hljs-string">" \n"</span>[j == n - <span class="hljs-number">1</span>];<br>        }<br>    }<br>}<br></code></pre></td></tr></table></figure>

<h1 id="F"><a href="#F" class="headerlink" title="F"></a>F</h1><blockquote>
<h2 id="Alkane"><a href="#Alkane" class="headerlink" title="Alkane"></a><u>Alkane</u></h2></blockquote>
<h3 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span> <span class="hljs-comment">// 包含C++标准库</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std; <span class="hljs-comment">// 使用标准命名空间</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> mp makepair <span class="hljs-comment">// 定义makepair的简写</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pb pushback <span class="hljs-comment">// 定义pushback的简写</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fi first <span class="hljs-comment">// 定义first的简写</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> se second <span class="hljs-comment">// 定义second的简写</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> li long long <span class="hljs-comment">// 定义long long的简写</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pii pair<span class="hljs-string">&lt;int, int&gt;</span> <span class="hljs-comment">// 定义pair&lt;int,int&gt;的简写</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> vi vector<span class="hljs-string">&lt;int&gt;</span> <span class="hljs-comment">// 定义vector&lt;int&gt;的简写</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> forn(i, n) for (int i = 0; i &lt; (int)n; i++) <span class="hljs-comment">// 定义从0到n-1的循环宏</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fore(i, b, e) for (int i = (int)b; i &lt;= (int)e; i++) <span class="hljs-comment">// 定义从b到e的循环宏</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> all(x) (x).begin(), (x).end() <span class="hljs-comment">// 定义容器的begin和end迭代器</span></span><br><br><span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>; <span class="hljs-comment">// 存储最终答案</span><br>vector&lt;vi&gt; edges; <span class="hljs-comment">// 存储图的邻接表</span><br>vi f; <span class="hljs-comment">// 存储每个节点的状态值</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> v, <span class="hljs-type">int</span> p)</span> <span class="hljs-comment">// 深度优先搜索函数，v是当前节点，p是父节点</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> u : edges[v]) <span class="hljs-comment">// 遍历当前节点的所有邻接点</span><br>    {<br>        <span class="hljs-keyword">if</span> (u != p) <span class="hljs-comment">// 如果邻接点不是父节点</span><br>        {<br>            <span class="hljs-built_in">dfs</span>(u, v); <span class="hljs-comment">// 递归处理子节点</span><br>        }<br>    }<br>    f[v] = <span class="hljs-number">1</span>; <span class="hljs-comment">// 初始化当前节点的状态值为1</span><br>    <span class="hljs-keyword">if</span> (edges[v].<span class="hljs-built_in">size</span>() &gt;= <span class="hljs-number">4</span>) <span class="hljs-comment">// 如果当前节点的度数大于等于4</span><br>    {<br>        vi children; <span class="hljs-comment">// 存储子节点的状态值</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> u : edges[v]) <span class="hljs-comment">// 遍历所有邻接点</span><br>        {<br>            <span class="hljs-keyword">if</span> (u != p) <span class="hljs-comment">// 如果不是父节点</span><br>            {<br>                children.<span class="hljs-built_in">pb</span>(f[u]); <span class="hljs-comment">// 添加子节点的状态值</span><br>            }<br>            <span class="hljs-keyword">else</span><br>            {<br>                children.<span class="hljs-built_in">pb</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// 父节点贡献值为1</span><br>            }<br>        }<br>        <span class="hljs-built_in">sort</span>(<span class="hljs-built_in">all</span>(children), <span class="hljs-built_in">greater</span>&lt;<span class="hljs-type">int</span>&gt;()); <span class="hljs-comment">// 对子节点状态值降序排序</span><br>        forn(j, <span class="hljs-number">3</span>) <span class="hljs-comment">// 选择前3大的值</span><br>        {<br>            f[v] += children[j]; <span class="hljs-comment">// 累加到当前节点的状态值</span><br>        }<br>        <span class="hljs-type">int</span> here = <span class="hljs-number">1</span>; <span class="hljs-comment">// 计算包含4个子节点的路径长度</span><br>        forn(j, <span class="hljs-number">4</span>)<br>        {<br>            here += children[j];<br>        }<br>        ans = <span class="hljs-built_in">max</span>(ans, here); <span class="hljs-comment">// 更新最大答案</span><br>    }<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">-1</span>) <span class="hljs-comment">// 如果是根节点</span><br>    {<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> u : edges[v]) <span class="hljs-comment">// 遍历所有子节点</span><br>        {<br>            f[v] = <span class="hljs-built_in">max</span>(f[v], f[u] + <span class="hljs-number">1</span>); <span class="hljs-comment">// 更新根节点状态值</span><br>        }<br>    }<br>    <span class="hljs-comment">// printf("f[%d] = %d edges count = %d\n", v, f[v], (int)edges[v].size());</span><br>    ans = <span class="hljs-built_in">max</span>(ans, f[v] + (p == <span class="hljs-number">-1</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>)); <span class="hljs-comment">// 更新最大答案</span><br>}<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-type">int</span> n; <span class="hljs-comment">// 节点数量</span><br>    cin &gt;&gt; n;<br>    edges.<span class="hljs-built_in">resize</span>(n + <span class="hljs-number">1</span>); <span class="hljs-comment">// 初始化邻接表大小</span><br>    forn(i, n - <span class="hljs-number">1</span>) <span class="hljs-comment">// 读入n-1条边</span><br>    {<br>        <span class="hljs-type">int</span> u, v;<br>        cin &gt;&gt; u &gt;&gt; v;<br>        edges[u].<span class="hljs-built_in">pb</span>(v); <span class="hljs-comment">// 添加无向边</span><br>        edges[v].<span class="hljs-built_in">pb</span>(u);<br>    }<br>    f.<span class="hljs-built_in">resize</span>(n + <span class="hljs-number">1</span>); <span class="hljs-comment">// 初始化状态数组大小</span><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>); <span class="hljs-comment">// 从节点1开始深度优先搜索</span><br>    <span class="hljs-keyword">if</span> (ans &lt; <span class="hljs-number">5</span>) <span class="hljs-comment">// 如果最大路径长度小于5</span><br>    {<br>        ans = <span class="hljs-number">-1</span>; <span class="hljs-comment">// 输出-1</span><br>    }<br>    cout &lt;&lt; ans; <span class="hljs-comment">// 输出答案</span><br>}<br></code></pre></td></tr></table></figure>

<h1 id="G"><a href="#G" class="headerlink" title="G"></a>G</h1><blockquote>
<h2 id="Dense-Buildings"><a href="#Dense-Buildings" class="headerlink" title="Dense Buildings"></a><u>Dense Buildings</u></h2></blockquote>
<h3 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 包含C++标准库和atcoder的并查集库</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;atcoder/dsu&gt;</span></span><br><br><span class="hljs-comment">// 使用标准命名空间和atcoder命名空间</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> atcoder;<br><br><span class="hljs-comment">// 定义常量</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H 500          <span class="hljs-comment">// 最大高度</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> W 500          <span class="hljs-comment">// 最大宽度</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Q (int)2e+5    <span class="hljs-comment">// 最大查询次数</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> F (int)1e+6    <span class="hljs-comment">// 最大权值</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-type">int</span> h, w, q;                   <span class="hljs-comment">// h,w为网格大小,q为查询次数</span><br>    <span class="hljs-type">int</span> f[H][W];                   <span class="hljs-comment">// f[i][j]存储网格中每个位置的权值</span><br>    <span class="hljs-type">int</span> a[Q], b[Q], y[Q];          <span class="hljs-comment">// 每个查询的起点坐标(a,b)和权值y</span><br>    <span class="hljs-type">int</span> c[Q], d[Q], z[Q];          <span class="hljs-comment">// 每个查询的终点坐标(c,d)和权值z</span><br>    <span class="hljs-type">int</span> l[Q], r[Q];                <span class="hljs-comment">// 二分查找的左右边界</span><br>    vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt; e[F + <span class="hljs-number">1</span>];    <span class="hljs-comment">// e[i]存储权值为i的边</span><br>    vector&lt;<span class="hljs-type">int</span>&gt; check[F + <span class="hljs-number">1</span>];           <span class="hljs-comment">// check[i]存储需要在权值i处检查的查询</span><br><br>    <span class="hljs-comment">// 读入网格大小</span><br>    cin &gt;&gt; h &gt;&gt; w;<br>    <span class="hljs-comment">// 读入网格中的权值</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; h; i++)<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; w; j++)<br>            cin &gt;&gt; f[i][j];<br>    <span class="hljs-comment">// 读入查询次数和查询信息</span><br>    cin &gt;&gt; q;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; q; i++)<br>    {<br>        cin &gt;&gt; a[i] &gt;&gt; b[i] &gt;&gt; y[i] &gt;&gt; c[i] &gt;&gt; d[i] &gt;&gt; z[i];<br>        a[i]--, b[i]--, c[i]--, d[i]--;  <span class="hljs-comment">// 坐标从0开始</span><br>    }<br><br>    <span class="hljs-comment">// 构建边集合</span><br>    <span class="hljs-comment">// 添加竖直方向的边</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; h - <span class="hljs-number">1</span>; i++)<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; w; j++)<br>            e[<span class="hljs-built_in">min</span>(f[i][j], f[i + <span class="hljs-number">1</span>][j])].<span class="hljs-built_in">pushback</span>({i * w + j, (i + <span class="hljs-number">1</span>) * w + j});<br>    <span class="hljs-comment">// 添加水平方向的边</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; h; i++)<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; w - <span class="hljs-number">1</span>; j++)<br>            e[<span class="hljs-built_in">min</span>(f[i][j], f[i][j + <span class="hljs-number">1</span>])].<span class="hljs-built_in">pushback</span>({i * w + j, i * w + (j + <span class="hljs-number">1</span>)});<br>    <span class="hljs-comment">// 初始化二分查找的边界</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; q; i++)<br>        l[i] = <span class="hljs-number">1</span>, r[i] = F + <span class="hljs-number">1</span>;<br><br>    <span class="hljs-comment">// 二分查找过程</span><br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>    {<br>        <span class="hljs-type">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-comment">// 清空check数组</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= F; i++)<br>            check[i].<span class="hljs-built_in">clear</span>();<br>        <span class="hljs-comment">// 对每个查询,如果二分区间未收敛,则加入check数组</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; q; i++)<br>        {<br>            <span class="hljs-keyword">if</span> (r[i] - l[i] &gt; <span class="hljs-number">1</span>)<br>            {<br>                check[(l[i] + r[i]) / <span class="hljs-number">2</span>].<span class="hljs-built_in">pushback</span>(i);<br>                flag = <span class="hljs-literal">false</span>;<br>            }<br>        }<br>        <span class="hljs-keyword">if</span> (flag) <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// 如果所有查询都已收敛,退出循环</span><br><br>        <span class="hljs-comment">// 使用并查集检查连通性</span><br>        <span class="hljs-function">dsu <span class="hljs-title">uf</span><span class="hljs-params">(h * w)</span></span>;<br>        <span class="hljs-comment">// 从大到小遍历权值</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = F; i &gt;= <span class="hljs-number">0</span>; i--)<br>        {<br>            <span class="hljs-comment">// 合并权值为i的所有边</span><br>            <span class="hljs-type">int</span> sz = e[i].<span class="hljs-built_in">size</span>();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; sz; j++)<br>                uf.<span class="hljs-built_in">merge</span>(e[i][j].**first**, e[i][j].**second**);<br>            <span class="hljs-comment">// 检查需要在权值i处判断的查询</span><br>            sz = check[i].<span class="hljs-built_in">size</span>();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; sz; j++)<br>            {<br>                <span class="hljs-type">int</span> idxs = a[check[i][j]] * w + b[check[i][j]];  <span class="hljs-comment">// 起点在一维数组中的索引</span><br>                <span class="hljs-type">int</span> idxt = c[check[i][j]] * w + d[check[i][j]];  <span class="hljs-comment">// 终点在一维数组中的索引</span><br>                <span class="hljs-comment">// 根据连通性更新二分边界</span><br>                <span class="hljs-keyword">if</span> (uf.<span class="hljs-built_in">same</span>(idxs, idxt))<br>                    l[check[i][j]] = i;<br>                <span class="hljs-keyword">else</span><br>                    r[check[i][j]] = i;<br>            }<br>        }<br>    }<br><br>    <span class="hljs-comment">// 输出每个查询的结果</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; q; i++)<br>        cout &lt;&lt; (y[i] + z[i] - <span class="hljs-number">2</span> * <span class="hljs-built_in">min</span>(l[i], <span class="hljs-built_in">min</span>(y[i], z[i]))) &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br></code></pre></td></tr></table></figure>

        </article>
        <section class="post-near">
            <ul>
                
                    <li>上一篇: <a href="/2025/03/01/2025-03-01-%E7%89%9B%E5%AE%A2%E5%91%A8%E8%B5%9B83/">2025-03-01-牛客周赛83</a></li>
                
                
                    <li>下一篇: <a href="/2025/02/17/2025-02-17-%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E3%80%81%E5%AE%9E%E4%BE%8B%E5%88%86%E5%89%B2%E4%B8%8E%E5%85%A8%E6%99%AF%E5%88%86%E5%89%B2%E4%B8%89%E7%A7%8D%E5%88%86%E5%89%B2%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AF%B9%E6%AF%94/">语义分割、实例分割与全景分割三种分割技术的对比</a></li>
                
            </ul>
        </section>
        
            <section class="post-tags">
            <a class="-none-link" href="/tags/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/" rel="tag">算法练习</a>
            </section>
        
    
        <section class="post-author">
        
            <figure class="author-avatar">
                <img src="https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/20250927100251272.jpg?imageSlim" alt="ttkqwe" />
            </figure>
        
            <div class="author-info">
                <h4>ttkqwe</h4>
                <p>计算机大三学生，喜欢研究一些乱七八糟的东西，目前研究方向是深度学习。本站未注明转载的文章均为原创，并采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow">CC BY-NC-SA 4.0</a> 授权协议，<span style="color: #E91E63">转载请注明来源</span>，谢谢！如本站内容对你有所帮助的话，不妨 <a target="_blank" rel="noopener" href="https://paul.ren/donate">捐助支持</a> 一下？同时欢迎订阅关注 <a href="https://paul.ren/note" target="_blank">我的日记</a>，唠嗑（分享）每日的折腾经历。</p>
            </div>
        </section>
    
    </div>
</main>

    <footer>
    <div class="buttons">
        <button class="to-top" href="#"></button>
    </div>
    <div class="wrap min">
        <section class="widget">
            <div class="row">
                <div class="col-m-4">
                    <h3 class="title-recent">最新文章：</h3>
                    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/07/29/2025-07-29-%E4%B9%9D%E6%A0%BC%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">2025-07-29-九格通用基础大模型环境配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/07/03/2025-07-03-%E6%8B%AF%E6%95%91%E6%88%91%E7%9A%84%E2%80%9C%E9%AB%98%E7%83%A7%E2%80%9D%E6%88%98%E5%8F%8B%E2%80%94%E2%80%94Y7000P%202024%E7%89%88%E6%B8%85%E7%81%B0%E6%8D%A2%E7%A1%85%E8%84%82%E8%AE%B0%E5%BD%95/">2025-07-03-拯救我的“高烧”战友——Y7000P 2024 版清灰换硅脂记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/06/08/2025-06-08-%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%95%E5%B1%82%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/">2025-06-08-大模型底层技术分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/06/05/2025-06-05-%E6%99%BA%E8%83%BD%E4%BD%93%E5%B9%B3%E5%8F%B0%E5%8F%8A%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/">2025-06-05-智能体平台及关键技术分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/06/04/2025-06-04-%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E4%BB%8B%E7%BB%8D/">2025-06-04-低代码平台及相关技术介绍应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/06/03/2025-06-03-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3/">2025-06-03-微信小程序开发框架详解</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-date">时光机：</h3>
                    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">七月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">五月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">四月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">三月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">二月 2025</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-tags">标签云：</h3>
                    <a href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/" style="font-size: 10px;">数学建模</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 14px;">深度学习</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/" style="font-size: 18px;">程序开发</a> <a href="/tags/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">算法学习</a> <a href="/tags/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/" style="font-size: 16px;">算法练习</a> <a href="/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/" style="font-size: 12px;">论文阅读</a> <a href="/tags/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/" style="font-size: 20px;">课程学习</a> <a href="/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" style="font-size: 18px;">问题解决</a>
                </div>
            </div>
        </section>
        <section class="sub-footer">
            <p>© 2025 <a href="/">TK的小站</a>. All Rights Reserved. Theme By <a href="https://github.com/Dreamer-Paul/Hingle" target="_blank" rel="nofollow">Hingle</a>.</p>
        </section>
    </div>
</footer>


<script src="/static/kico.js"></script>
<script src="/static/hingle.js"></script>


<script>var hingle = new Paul_Hingle({"copyright":true,"night":true});</script>

  </body>
</html>
